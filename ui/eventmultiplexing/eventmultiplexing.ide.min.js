TW.IDE.Widgets.eventmultiplexing=function(){this.widgetIconUrl=function(){return"../Common/extensions/EventMultiplexingWidget/ui/eventmultiplexing/multiplex.png"};this.widgetProperties=function(){return{name:"EventMultiplexing",description:"Widget to multiplex an event, it is an advanced version of standard event router",category:["Common"],iconImage:"multiplex.png",properties:{Width:{description:"width",defaultValue:200},Height:{description:"height",defaultValue:28},inOutType:{description:"The input/output type",
baseType:"STRING",defaultValue:"STRING",selectOptions:[{value:"STRING",text:"STRING"},{value:"INTEGER",text:"INTEGER"},{value:"NUMBER",text:"NUMBER"},{value:"DATETIME",text:"DATETIME"},{value:"BOOLEAN",text:"BOOLEAN"},{value:"IMAGELINK",text:"IMAGELINK"}]},numberOfEvents:{description:"The number of events",baseType:"INTEGER",defaultValue:5},debugMode:{isVisible:!0,baseType:"BOOLEAN",isEditable:!0,defaultValue:!1,description:"true to activate the debug"}}}};this.widgetEvents=function(){return{Triggered:{}}};
this.renderHtml=function(){return'<div class="widget-content widget-eventmultiplexing"><span class="eventmultiplexing-property">Event Multiplexing</span></div>'};this.afterRender=function(){this.addNewEventParameters(this.getProperty("inOutType"),this.getProperty("numberOfEvents"))};this.afterSetProperty=function(a,b){if("inOutType"===a||"numberOfEvents"===a)switch(this.deleteOldEventParameters(),a){case "inOutType":this.addNewEventParameters(b,this.getProperty("numberOfEvents"));break;case "numberOfEvents":this.addNewEventParameters(this.getProperty("inOutType"),
b)}return!1};this.deleteOldEventParameters=function(){var a=this.allWidgetProperties().properties;delete a.output;for(var b in a)b.toLowerCase().startsWith("event")?delete a[b]:b.toLowerCase().startsWith("value")&&delete a[b]};this.addNewEventParameters=function(a,b){var d=this.allWidgetProperties().properties;d.output={isBaseProperty:!1,name:"output",type:"property",description:"The output value",isBindingSource:!0,baseType:a,isEditable:!1,isVisible:!0};for(var c=1;c<=b;c++)d["Value"+c]={isBaseProperty:!1,
name:"Value"+c,type:"property",description:"Value N. "+c,isBindingTarget:!0,baseType:a,isLocalizable:"STRING"===a,isEditable:!0,isVisible:!0},d["Event"+c]={name:"Event"+c,type:"service",description:"Service to call for event N. "+c,isVisible:!0};this.updatedProperties({updateUI:!0})}};